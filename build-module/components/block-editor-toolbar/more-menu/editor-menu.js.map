{"version":3,"sources":["../../../../src/components/block-editor-toolbar/more-menu/editor-menu.js"],"names":["MenuGroup","MenuItem","__","_x","withDispatch","withSelect","compose","check","EditorMenu","onClose","editorMode","onSetMode","isCodeEditingEnabled","settings","setMode","mode","iso","moreMenu","editor","select","getEditorMode","codeEditingEnabled","getEditorSettings","dispatch","setEditorMode"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,uBAApC;AACA,SAASC,EAAT,EAAaC,EAAb,QAAuB,iBAAvB;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,iBAAzC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AAEA;;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,UAAT,OAA0F;AAAA;;AAAA,MAArE;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,UAAX;AAAuBC,IAAAA,SAAvB;AAAkCC,IAAAA,oBAAlC;AAAwDC,IAAAA;AAAxD,GAAqE;;AACzF;AACD;AACA;AACC,QAAMC,OAAO,GAAKC,IAAF,IAAY;AAC3BJ,IAAAA,SAAS,CAAEI,IAAF,CAAT;AACAN,IAAAA,OAAO;AACP,GAHD;;AAKA,MAAK,CAAEG,oBAAP,EAA8B;AAC7B,WAAO,IAAP;AACA;;AAED,MAAK,CAAAC,QAAQ,SAAR,IAAAA,QAAQ,WAAR,6BAAAA,QAAQ,CAAEG,GAAV,gEAAeC,QAAf,MAA4B,KAA5B,IAAqC,EAAEJ,QAAF,aAAEA,QAAF,iCAAEA,QAAQ,CAAEG,GAAZ,oEAAE,eAAeC,QAAjB,kDAAE,sBAAyBC,MAA3B,CAA1C,EAA8E;AAC7E,WAAO,IAAP;AACA;;AAED,SACC,cAAC,SAAD;AAAW,IAAA,KAAK,EAAGf,EAAE,CAAE,QAAF,EAAY,MAAZ;AAArB,KACC,cAAC,QAAD;AACC,IAAA,IAAI,EAAGO,UAAU,KAAK,QAAf,IAA2BH,KADnC;AAEC,IAAA,UAAU,EAAGG,UAAU,KAAK,QAF7B;AAGC,IAAA,OAAO,EAAG,MAAMI,OAAO,CAAE,QAAF,CAHxB;AAIC,IAAA,IAAI,EAAC;AAJN,KAMGZ,EAAE,CAAE,eAAF,CANL,CADD,EAUC,cAAC,QAAD;AACC,IAAA,IAAI,EAAGQ,UAAU,KAAK,MAAf,IAAyBH,KADjC;AAEC,IAAA,UAAU,EAAGG,UAAU,KAAK,MAF7B;AAGC,IAAA,OAAO,EAAG,MAAMI,OAAO,CAAE,MAAF,CAHxB;AAIC,IAAA,IAAI,EAAC;AAJN,KAMGZ,EAAE,CAAE,aAAF,CANL,CAVD,CADD;AAqBA;;AAED,eAAeI,OAAO,CAAE,CACvBD,UAAU,CAAIc,MAAF,IAAc;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAoBD,MAAM,CAAE,iBAAF,CAAhC;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAyBF,MAAM,CAAE,aAAF,CAAN,CAAwBG,iBAAxB,EAA/B;AAEA,SAAO;AACNZ,IAAAA,UAAU,EAAEU,aAAa,EADnB;AAENR,IAAAA,oBAAoB,EAAES;AAFhB,GAAP;AAIA,CARS,CADa,EAUvBjB,YAAY,CAAImB,QAAF,KAAkB;AAC/BZ,EAAAA,SAAS,CAAEI,IAAF,EAAS;AACjBQ,IAAAA,QAAQ,CAAE,iBAAF,CAAR,CAA8BC,aAA9B,CAA6CT,IAA7C;AACA;;AAH8B,CAAlB,CAAF,CAVW,CAAF,CAAP,CAeVP,UAfU,CAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { MenuGroup, MenuItem } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { check } from '@wordpress/icons';\n\n/** @typedef {import('./index').OnClose} OnClose */\n/** @typedef {import('../../../index').BlockEditorSettings} BlockEditorSettings */\n\n/**\n * Close dropdown callback\n * @callback OnSetMode\n * @param {string} mode\n */\n\n/**\n * The 'more menu' editor section\n *\n * @param {object} props - Component props\n * @param {boolean} props.isCodeEditingEnabled\n * @param {string} props.editorMode\n * @param {OnClose} props.onClose - Callback to close the menu\n * @param {OnSetMode} props.onSetMode\n * @param {BlockEditorSettings} props.settings - Settings\n */\nfunction EditorMenu( { onClose, editorMode, onSetMode, isCodeEditingEnabled, settings } ) {\n\t/**\n\t * @param {string} mode\n\t */\n\tconst setMode = ( mode ) => {\n\t\tonSetMode( mode );\n\t\tonClose();\n\t};\n\n\tif ( ! isCodeEditingEnabled ) {\n\t\treturn null;\n\t}\n\n\tif ( settings?.iso?.moreMenu === false || ! settings?.iso?.moreMenu?.editor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuGroup label={ _x( 'Editor', 'noun' ) }>\n\t\t\t<MenuItem\n\t\t\t\ticon={ editorMode === 'visual' && check }\n\t\t\t\tisSelected={ editorMode === 'visual' }\n\t\t\t\tonClick={ () => setMode( 'visual' ) }\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t>\n\t\t\t\t{ __( 'Visual editor' ) }\n\t\t\t</MenuItem>\n\n\t\t\t<MenuItem\n\t\t\t\ticon={ editorMode === 'text' && check }\n\t\t\t\tisSelected={ editorMode === 'text' }\n\t\t\t\tonClick={ () => setMode( 'text' ) }\n\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t>\n\t\t\t\t{ __( 'Code editor' ) }\n\t\t\t</MenuItem>\n\t\t</MenuGroup>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getEditorMode } = select( 'isolated/editor' );\n\t\tconst { codeEditingEnabled } = select( 'core/editor' ).getEditorSettings();\n\n\t\treturn {\n\t\t\teditorMode: getEditorMode(),\n\t\t\tisCodeEditingEnabled: codeEditingEnabled,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonSetMode( mode ) {\n\t\t\tdispatch( 'isolated/editor' ).setEditorMode( mode );\n\t\t},\n\t} ) ),\n] )( EditorMenu );\n"],"file":"editor-menu.js"}