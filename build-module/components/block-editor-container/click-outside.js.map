{"version":3,"sources":["../../../src/components/block-editor-container/click-outside.js"],"names":["compose","withDispatch","Component","withFocusOutside","ClickOutsideWrapper","ev","props","onFocus","target","relatedTarget","clearSelectedBlock","classList","contains","closest","onOutside","children","dispatch"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AAEA,SAASA,OAAT,QAAwB,oBAAxB;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AAEA,IAAMC,mBAAmB,GAAGD,gBAAgB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,WAE1C,qBAAaE,EAAb,EAAkB;AACjB,WAAKC,KAAL,CAAWC,OAAX;AACA;AAJyC;AAAA;AAAA,WAM1C,4BAAoBF,EAApB,EAAyB;AACxB,UAAMG,MAAM,GAAGH,EAAE,CAACI,aAAH,IAAoBJ,EAAE,CAACG,MAAtC;AADwB,UAEhBE,kBAFgB,GAEO,KAAKJ,KAFZ,CAEhBI,kBAFgB;;AAIxB,UAAKF,MAAL,EAAc;AACb,YAAKA,MAAM,CAACG,SAAP,CAAiBC,QAAjB,CAA2B,aAA3B,KAA8CJ,MAAM,CAACG,SAAP,CAAiBC,QAAjB,CAA2B,YAA3B,CAAnD,EAA+F;AAC9F;AACA;AACD;;AAED,UAAK,CAAEJ,MAAF,IAAYA,MAAM,CAACK,OAAP,CAAgB,aAAhB,MAAoC,IAArD,EAA4D;AAC3D,aAAKP,KAAL,CAAWQ,SAAX;AACAJ,QAAAA,kBAAkB;AAClB;AACD;AApByC;AAAA;AAAA,WAsB1C,kBAAS;AACR,aAAO,KAAKJ,KAAL,CAAWS,QAAlB;AACA;AAxByC;;AAAA;AAAA,EAC7Bb,SAD6B,EAA5C;AA4BA,eAAeF,OAAO,CAAE,CACvBC,YAAY,CAAE,UAAEe,QAAF,EAAgB;AAAA,kBAGzBA,QAAQ,CAAE,mBAAF,CAHiB;AAAA,MAE5BN,kBAF4B,aAE5BA,kBAF4B;;AAK7B,SAAO;AACNA,IAAAA,kBAAkB,EAAlBA;AADM,GAAP;AAGA,CARW,CADW,CAAF,CAAP,CAUVN,mBAVU,CAAf","sourcesContent":["/**\n * WordPress dependencies\n */\n\nimport { compose } from '@wordpress/compose';\nimport { withDispatch } from '@wordpress/data';\nimport { Component } from '@wordpress/element';\nimport withFocusOutside from './with-focus-outside.js';\n\nconst ClickOutsideWrapper = withFocusOutside(\n\tclass extends Component {\n\t\thandleFocus( ev ) {\n\t\t\tthis.props.onFocus();\n\t\t}\n\n\t\thandleFocusOutside( ev ) {\n\t\t\tconst target = ev.relatedTarget || ev.target;\n\t\t\tconst { clearSelectedBlock } = this.props;\n\n\t\t\tif ( target ) {\n\t\t\t\tif ( target.classList.contains( 'media-modal' ) || target.classList.contains( 'iso-editor' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( ! target || target.closest( '.iso-editor' ) === null ) {\n\t\t\t\tthis.props.onOutside();\n\t\t\t\tclearSelectedBlock();\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n);\n\nexport default compose( [\n\twithDispatch( ( dispatch ) => {\n\t\tconst {\n\t\t\tclearSelectedBlock,\n\t\t} = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tclearSelectedBlock,\n\t\t};\n\t} ),\n] )( ClickOutsideWrapper );\n"],"file":"click-outside.js"}