{"version":3,"sources":["../../../src/components/block-editor-container/click-outside.js"],"names":["Component","withFocusOutside","ClickOutsideWrapper","handleFocus","ev","props","onFocus","isInspectorElement","element","closest","classList","contains","handleFocusOutside","target","relatedTarget","onOutside","render","children"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,SAAT,QAA0B,oBAA1B;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AAEA,MAAMC,mBAAmB,GAAGD,gBAAgB,CAC3C,cAAcD,SAAd,CAAwB;AACvBG,EAAAA,WAAW,CAAEC,EAAF,EAAO;AACjB,SAAKC,KAAL,CAAWC,OAAX;AACA,GAHsB,CAKvB;;;AACAC,EAAAA,kBAAkB,CAAEC,OAAF,EAAY;AAC7B;AACA,QAAKA,OAAO,CAACC,OAAR,CAAiB,0BAAjB,CAAL,EAAqD;AACpD,aAAO,IAAP;AACA,KAJ4B,CAM7B;;;AACA,QAAKD,OAAO,CAACC,OAAR,CAAiB,+BAAjB,KAAsDD,OAAO,CAACC,OAAR,CAAiB,gBAAjB,CAA3D,EAAiG;AAChG,aAAO,IAAP;AACA,KAT4B,CAW7B;;;AACA,QAAKD,OAAO,CAACE,SAAR,CAAkBC,QAAlB,CAA4B,aAA5B,CAAL,EAAmD;AAClD,aAAO,IAAP;AACA;;AAED,WAAO,KAAP;AACA;;AAEDC,EAAAA,kBAAkB,CAAER,EAAF,EAAO;AACxB,UAAMS,MAAM,GAAGT,EAAE,CAACU,aAAH,IAAoBV,EAAE,CAACS,MAAtC;;AAEA,QAAKA,MAAM,IAAI,KAAKN,kBAAL,CAAyBM,MAAzB,CAAf,EAAmD;AAClD;AACA;;AAED,SAAKR,KAAL,CAAWU,SAAX;AACA;;AAEDC,EAAAA,MAAM,GAAG;AACR,WAAO,KAAKX,KAAL,CAAWY,QAAlB;AACA;;AArCsB,CADmB,CAA5C;AA0CA,eAAef,mBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\n\nimport { Component } from '@wordpress/element';\nimport withFocusOutside from './with-focus-outside.js';\n\nconst ClickOutsideWrapper = withFocusOutside(\n\tclass extends Component {\n\t\thandleFocus( ev ) {\n\t\t\tthis.props.onFocus();\n\t\t}\n\n\t\t// Clicks in the media modal or popup components are considered in the editor\n\t\tisInspectorElement( element ) {\n\t\t\t// Inside a colour picker popover\n\t\t\tif ( element.closest( '.components-color-picker' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Inside the inspector\n\t\t\tif ( element.closest( '.block-editor-block-inspector' ) || element.closest( '.iso-inspector' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// In the media modal\n\t\t\tif ( element.classList.contains( 'media-modal' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\thandleFocusOutside( ev ) {\n\t\t\tconst target = ev.relatedTarget || ev.target;\n\n\t\t\tif ( target && this.isInspectorElement( target ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.props.onOutside();\n\t\t}\n\n\t\trender() {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n);\n\nexport default ClickOutsideWrapper;\n"],"file":"click-outside.js"}