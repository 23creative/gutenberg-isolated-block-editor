{"version":3,"sources":["../../../src/store/plugins/store-hot-swap.js"],"names":["storeHotSwapPlugin","registry","pluginOptions","dispatch","reducerKey","targetDispatch","select","targetSelect","setEditor","resetEditor"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,kBAAT,CAA6BC,QAA7B,EAAuCC,aAAvC,EAAuD;AACtD;AACA,SAAO;AACNC,IAAAA,QADM,oBACIC,UADJ,EACiB;AACtB,UAAKJ,kBAAkB,CAACK,cAAnB,KAAsC,IAAtC,IAA8CD,UAAU,KAAK,mBAAlE,EAAwF;AACvF,eAAOH,QAAQ,CAACE,QAAT,CAAmBC,UAAnB,CAAP;AACA;;AAED,aAAOJ,kBAAkB,CAACK,cAAnB,CAAmCD,UAAnC,CAAP;AACA,KAPK;AAQNE,IAAAA,MARM,kBAQEF,UARF,EAQe;AACpB,UAAKJ,kBAAkB,CAACO,YAAnB,KAAoC,IAApC,IAA4CH,UAAU,KAAK,mBAAhE,EAAsF;AACrF,eAAOH,QAAQ,CAACK,MAAT,CAAiBF,UAAjB,CAAP;AACA;;AAED,aAAOJ,kBAAkB,CAACO,YAAnB,CAAiCH,UAAjC,CAAP;AACA;AAdK,GAAP;AAgBA;;AAEDJ,kBAAkB,CAACO,YAAnB,GAAkC,IAAlC;AACAP,kBAAkB,CAACK,cAAnB,GAAoC,IAApC;;AAEAL,kBAAkB,CAACQ,SAAnB,GAA+B,UAAUF,MAAV,EAAkBH,QAAlB,EAA6B;AAC3D,OAAKI,YAAL,GAAoBD,MAApB;AACA,OAAKD,cAAL,GAAsBF,QAAtB;AACA,CAHD;;AAKAH,kBAAkB,CAACS,WAAnB,GAAiC,YAAW;AAC3C,OAAKF,YAAL,GAAoB,IAApB;AACA,OAAKF,cAAL,GAAsB,IAAtB;AACA,CAHD;;AAKA,eAAeL,kBAAf","sourcesContent":["/**\n * Swap any access to `core/block-editor` to the currently focussed editor store. This ensures that blocks that directly access\n * wp.data still work.\n *\n * Note that store plugins are currently marked as deprecated. It's unknown what will replace them, and this will need to be updated\n * once that happens.\n *\n * @param {object} registry\n * @param {object} pluginOptions\n */\nfunction storeHotSwapPlugin( registry, pluginOptions ) {\n\t// Switch select and dispatch\n\treturn {\n\t\tdispatch( reducerKey ) {\n\t\t\tif ( storeHotSwapPlugin.targetDispatch === null || reducerKey !== 'core/block-editor' ) {\n\t\t\t\treturn registry.dispatch( reducerKey );\n\t\t\t}\n\n\t\t\treturn storeHotSwapPlugin.targetDispatch( reducerKey );\n\t\t},\n\t\tselect( reducerKey ) {\n\t\t\tif ( storeHotSwapPlugin.targetSelect === null || reducerKey !== 'core/block-editor' ) {\n\t\t\t\treturn registry.select( reducerKey );\n\t\t\t}\n\n\t\t\treturn storeHotSwapPlugin.targetSelect( reducerKey );\n\t\t},\n\t};\n}\n\nstoreHotSwapPlugin.targetSelect = null;\nstoreHotSwapPlugin.targetDispatch = null;\n\nstoreHotSwapPlugin.setEditor = function( select, dispatch ) {\n\tthis.targetSelect = select;\n\tthis.targetDispatch = dispatch;\n}\n\nstoreHotSwapPlugin.resetEditor = function() {\n\tthis.targetSelect = null;\n\tthis.targetDispatch = null;\n}\n\nexport default storeHotSwapPlugin;\n"],"file":"store-hot-swap.js"}