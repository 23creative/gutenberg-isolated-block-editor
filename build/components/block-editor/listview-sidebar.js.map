{"version":3,"sources":["../../../src/components/block-editor/listview-sidebar.js"],"names":["ListViewSidebar","setIsListViewOpened","blockEditorStore","clearSelectedBlock","selectBlock","selectEditorBlock","clientId","focusOnMountRef","focusReturnRef","closeOnEscape","event","keyCode","ESCAPE","defaultPrevented","preventDefault","instanceId","labelId","closeSmall"],"mappings":";;;;;;;;;;;;;AAGC;;AAID;;AACA;;AAMA;;AACA;;AACA;;AACA;;;;AAjBA;AACA;AACA;AAiBe,SAASA,eAAT,GAA2B;AACzC,qBAAgC,uBAAa,iBAAb,CAAhC;AAAA,MAAQC,mBAAR,gBAAQA,mBAAR;;AAEA,sBAA4C,uBAAaC,kBAAb,CAA5C;AAAA,MAAQC,kBAAR,iBAAQA,kBAAR;AAAA,MAA4BC,WAA5B,iBAA4BA,WAA5B;;AAHyC,WAI1BC,iBAJ0B;AAAA;AAAA;;AAAA;AAAA,uGAIzC,iBAAkCC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACOH,kBAAkB,EADzB;;AAAA;AAECC,cAAAA,WAAW,CAAEE,QAAF,EAAY,CAAC,CAAb,CAAX;;AAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAJyC;AAAA;AAAA;;AASzC,MAAMC,eAAe,GAAG,8BAAiB,cAAjB,CAAxB;AACA,MAAMC,cAAc,GAAG,8BAAvB;;AACA,WAASC,aAAT,CAAwBC,KAAxB,EAAgC;AAC/B,QAAKA,KAAK,CAACC,OAAN,KAAkBC,gBAAlB,IAA4B,CAAEF,KAAK,CAACG,gBAAzC,EAA4D;AAC3DH,MAAAA,KAAK,CAACI,cAAN;AACAb,MAAAA,mBAAmB,CAAE,KAAF,CAAnB;AACA;AACD;;AAED,MAAMc,UAAU,GAAG,4BAAef,eAAf,CAAnB;AACA,MAAMgB,OAAO,qDAA+CD,UAA/C,CAAb;AAEA,SACC;AACA;AACC,yBAAkBC,OADnB;AAEC,MAAA,SAAS,EAAC,mCAFX;AAGC,MAAA,SAAS,EAAGP;AAHb,OAKC;AAAK,MAAA,SAAS,EAAC;AAAf,OACC;AAAQ,MAAA,EAAE,EAAGO;AAAb,OAAyB,cAAI,WAAJ,CAAzB,CADD,EAEC,cAAC,kBAAD;AACC,MAAA,IAAI,EAAGC,iBADR;AAEC,MAAA,KAAK,EAAG,cAAI,yBAAJ,CAFT;AAGC,MAAA,OAAO,EAAG;AAAA,eAAMhB,mBAAmB,CAAE,KAAF,CAAzB;AAAA;AAHX,MAFD,CALD,EAaC;AACC,MAAA,SAAS,EAAC,2CADX;AAEC,MAAA,GAAG,EAAG,2BAAc,CAAEO,cAAF,EAAkBD,eAAlB,CAAd;AAFP,OAIC,cAAC,mCAAD;AACC,MAAA,QAAQ,EAAGF,iBADZ;AAEC,MAAA,gBAAgB,MAFjB;AAGC,MAAA,wCAAwC;AAHzC,MAJD,CAbD;AAFD;AA2BA","sourcesContent":["/**\n * WordPress dependencies\n */\n import {\n\t__experimentalListView as ListView,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport {\n\tuseFocusOnMount,\n\tuseFocusReturn,\n\tuseInstanceId,\n\tuseMergeRefs,\n} from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\nimport { ESCAPE } from '@wordpress/keycodes';\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( 'isolated/editor' );\n\n\tconst { clearSelectedBlock, selectBlock } = useDispatch( blockEditorStore );\n\tasync function selectEditorBlock( clientId ) {\n\t\tawait clearSelectedBlock();\n\t\tselectBlock( clientId, -1 );\n\t}\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\tconst focusReturnRef = useFocusReturn();\n\tfunction closeOnEscape( event ) {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsListViewOpened( false );\n\t\t}\n\t}\n\n\tconst instanceId = useInstanceId( ListViewSidebar );\n\tconst labelId = `edit-post-editor__list-view-panel-label-${ instanceId }`;\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\taria-labelledby={ labelId }\n\t\t\tclassName=\"edit-post-editor__list-view-panel\"\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t>\n\t\t\t<div className=\"edit-post-editor__list-view-panel-header\">\n\t\t\t\t<strong id={ labelId }>{ __( 'List view' ) }</strong>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close list view sidebar' ) }\n\t\t\t\t\tonClick={ () => setIsListViewOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-post-editor__list-view-panel-content\"\n\t\t\t\tref={ useMergeRefs( [ focusReturnRef, focusOnMountRef ] ) }\n\t\t\t>\n\t\t\t\t<ListView\n\t\t\t\t\tonSelect={ selectEditorBlock }\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t\t__experimentalPersistentListViewFeatures\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"file":"listview-sidebar.js"}